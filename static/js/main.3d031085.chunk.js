(this["webpackJsonpweb-playback-sdk-sample-app"]=this["webpackJsonpweb-playback-sdk-sample-app"]||[]).push([[0],{18:function(e,t,n){},55:function(e,t){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),a=n(27),o=n.n(a),i=n(5),r=n(6),l=n(4),u=(n(18),n(1)),j=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{className:"content-button",id:e.id,onClick:e.onClick,children:e.title})})},d=(n(34),n(20)),b=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),o=Object(l.a)(a,2),b=o[0],h=o[1],p=new d({});function f(){return(f=Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/token");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p.setAccessToken(n.access_token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){f.apply(this,arguments)}();return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){p.getMe().then((function(e){console.log("Some information about the authenticated user",e.body),s(e.body)}),(function(e){console.log("Something went wrong!",e)})),console.log("usestate user=",n),p.getUserPlaylists(n.display_name).then((function(e){console.log("Retrieved playlists",e.body),h(e.body)}),(function(e){console.log("Something went wrong!",e)}))},children:"Get Playlists"}),null!==b&&void 0!==b&&b.items?b.items.map((function(e){return Object(u.jsx)(j,{title:e.name,id:e.id,onClick:function(){return t=e.id,void p.play({context_uri:"spotify:playlist:".concat(t)}).then((function(){console.log("Playback started")})).catch((function(e){console.log("Something went wrong!",e)}));var t}},e.id)})):null]})},h=n(81),p=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{className:"content-button",children:e.children})})},f=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)({}),o=Object(l.a)(a,2),j=o[0],d=o[1];Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/token");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.access_token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){h.a.get("https://api.spotify.com/v1/me/episodes",{headers:{Authorization:"Bearer "+n}}).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))},children:"Get Podcasts"}),null!==j&&void 0!==j&&j.items?j.items.map((function(e){return Object(u.jsx)(p,{children:e.episode.name})})):null]})},O=(n(77),function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"playback-container",children:"Hello world"})})}),m=n(20),y=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1]),s=new m({});function a(){return(a=Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/token");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s.setAccessToken(n.access_token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}();return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){s.getMe().then((function(e){console.log("Some information about the authenticated user",e.body),n(e.body)}),(function(e){console.log("Something went wrong!",e)})),s.getMyCurrentPlaybackState().then((function(e){e.body&&e.body.is_playing?(console.log("User is currently playing something!"),console.log(e.body)):console.log("User is not playing anything, or doing so in private.")}),(function(e){console.log("Something went wrong!",e)}))},children:"Playback"}),Object(u.jsx)(O,{})]})},g={name:"",album:{images:[{url:""}]},artists:[{name:""}]};var x=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(l.a)(o,2),r=i[0],j=i[1],d=Object(c.useState)(void 0),h=Object(l.a)(d,2),p=h[0],O=h[1],m=Object(c.useState)(g),x=Object(l.a)(m,2),v=x[0],k=x[1];return Object(c.useEffect)((function(){var t=document.createElement("script");t.src="https://sdk.scdn.co/spotify-player.js",t.async=!0,document.body.appendChild(t),window.onSpotifyWebPlaybackSDKReady=function(){var t=new window.Spotify.Player({name:"Gym Pal V2",getOAuthToken:function(t){t(e.token)},volume:.5});O(t),t.addListener("ready",(function(e){var t=e.device_id;console.log("Ready with Device ID",t)})),t.addListener("not_ready",(function(e){var t=e.device_id;console.log("Device ID has gone offline",t)})),t.addListener("player_state_changed",(function(e){e&&(k(e.track_window.current_track),a(e.paused),t.getCurrentState().then((function(e){j(!!e)})))})),t.connect()}}),[]),r?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"main-wrapper",children:[Object(u.jsx)("img",{src:v.album.images[0].url,className:"now-playing__cover",alt:""}),Object(u.jsxs)("div",{className:"now-playing__side",children:[Object(u.jsx)("div",{className:"now-playing__name",children:v.name}),Object(u.jsx)("div",{className:"now-playing__artist",children:v.artists[0].name}),Object(u.jsx)("button",{className:"btn-spotify",onClick:function(){p.previousTrack()},children:"<<"}),Object(u.jsx)("button",{className:"btn-spotify",onClick:function(){p.togglePlay()},children:s?"PLAY":"PAUSE"}),Object(u.jsx)("button",{className:"btn-spotify",onClick:function(){p.nextTrack()},children:">>"})]})]}),Object(u.jsxs)("div",{className:"content-container",children:[Object(u.jsx)("div",{className:"playlists",children:Object(u.jsx)(b,{})}),Object(u.jsx)("div",{className:"podcasts",children:Object(u.jsx)(f,{})}),Object(u.jsx)("div",{className:"podcasts",children:Object(u.jsx)(y,{})})]})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"main-wrapper",children:Object(u.jsx)("b",{children:" Instance not active. Transfer your playback using your Spotify app "})})})})};var v=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("a",{className:"btn-spotify",href:"/auth/login",children:"Login with Spotify"})})})};n(78);var k=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/token");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.access_token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsx)(u.Fragment,{children:""===n?Object(u.jsx)(v,{}):Object(u.jsx)(x,{token:n})})};n(79);o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.3d031085.chunk.js.map